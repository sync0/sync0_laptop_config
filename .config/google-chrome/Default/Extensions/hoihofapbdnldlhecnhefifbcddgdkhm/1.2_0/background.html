<!--
@fileoverview Serves as the background page for the clock application.
-->
<!DOCTYPE html>
<script type="text/javascript" src="../javascript/background.js"></script>
<script type="text/javascript" src="../javascript/clock-db.js"></script>
<script type="text/javascript" src="./javascript/clock-util.js"></script>
<audio id="audio_digi">
  <source src="/sound/abc.mp3" type="audio/mp3" />
</audio>
<audio id="audio_door">
  <source src="/sound/xyz.mp3" type="audio/mp3" />
</audio>
<audio id="audio_drum">
  <source src="/sound/abc.mp3" type="audio/mp3" />
</audio>
<audio id="audio_lond">
  <source src="/sound/abc.mp3" type="audio/mp3" />
</audio>
<audio id="audio_robit">
  <source src="/sound/xyz.mp3" type="audio/mp3" />
</audio>
<audio id="audio_train">
  <source src="/sound/abc.mp3" type="audio/mp3" />
</audio>
<audio id="audio_twin">
  <source src="/sound/xyz.mp3" type="audio/mp3" />
</audio>

<script>
/**
 * Check/Intialize tables in DB.
 */
clockApp.db.intializeDBTables();

/**
 * Gets all alarms from DB and deletes all expired alarms. 
 */
ac.getAllAlarms(ac.deleteExpiredAlarms);

/**
 * Initializes the alarm listener to check for alarms every One minute. 
 */
ac.initiateAlarmListen();

/**
 * Function to play sound on timer finish.
 * @param {string} title Id of audio tag to play.
 */  
function playSound(title) {
  $(title).play();
}

/**
 * Function to stop sound on timer reset.
 * @param {string} title Id of audio tag to stop.
 */  
function stopSound(title) {
  $(title).pause();
  $(title).currentTime = 0;
}
</script>
